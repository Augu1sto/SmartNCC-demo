(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-bus-index"],{"11cb":function(t,e,i){"use strict";i.r(e);var o=i("2ff6"),n=i("e741");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("b5a0");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"5fee4380",null,!1,o["a"],r);e["default"]=c.exports},"1de5":function(t,e,i){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"2b01":function(t,e,i){var o=i("f2b5");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("3628834c",o,!0,{sourceMap:!1,shadowMode:!1})},"2ff6":function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"header"},[i("v-uni-text",[t._v("校车时间表")]),i("my-popover",{attrs:{itemList:t.daylist,chosenNumber:t.dayidx,activeColor:"#00adb5",bgColor:"transparent"},on:{choose:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseDay.apply(void 0,arguments)}}},[i("down",{attrs:{theme:"outline",size:"18",fill:"white",strokeWidth:4,strokeLinejoin:"miter"}})],1)],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"choose_box"},[i("v-uni-view",{staticClass:"tipbox tip1"},[i("span",[t._v("起点")])]),i("v-uni-view",{staticClass:"fix",style:{order:-t.flexOrder}},[t._v("基地")]),i("v-uni-view",{staticClass:"change_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[i("switch-icon",{attrs:{theme:"filled",size:"16",strokeWidth:5,fill:"white"}})],1),i("v-uni-view",{staticClass:"choose_btn",style:{order:t.flexOrder}},[i("my-popover",{attrs:{itemList:t.items,chosenNumber:t.chosen,activeColor:"#00adb5"},on:{choose:function(e){arguments[0]=e=t.$handleEvent(e),t.choose.apply(void 0,arguments)}}},[i("down",{attrs:{theme:"outline",size:"18",fill:"#333",strokeWidth:4,strokeLinejoin:"miter"}})],1)],1),i("v-uni-view",{staticClass:"tipbox tip2"},[i("span",[t._v("终点")])])],1),i("v-uni-view",{staticClass:"time-table"},[i("v-uni-view",{staticClass:"time-table-header"}),t._l(t.thedata,(function(e,o){return i("v-uni-view",{key:o,class:["time-table-detail",t.today===t.dayidx&&t.timeNow<=e.time?"":"filter"]},[i("v-uni-view",{staticClass:"blank_box"}),i("v-uni-view",{staticClass:"detail-box"},[i("v-uni-view",{staticClass:"location location1"},[t._v(t._s(e.start))]),i("v-uni-view",{staticClass:"timeclock"},[t._v(t._s(e.time))]),i("v-uni-view",{staticClass:"location location2"},[t._v(t._s(e.end))])],1)],1)}))],2)],1)],1)},a=[]},"3f80":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.my-popover[data-v-26b0b5b9]{position:relative;margin:auto}.my-popover-choosebox[data-v-26b0b5b9]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:8px;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:3px;padding-inline-end:3px;box-sizing:border-box}.my-popover-choosebox[data-v-26b0b5b9]:active{background-color:rgba(50,50,50,.1)}.icon[data-v-26b0b5b9]{transition:all .3s}.icon-reverse[data-v-26b0b5b9]{-webkit-transform:rotateX(180deg);transform:rotateX(180deg);transition:all .3s}.my-popover-list[data-v-26b0b5b9]{position:absolute;top:35px;border:1px solid #ccc;border-radius:6px;background-color:var(--list-bgcolor);display:flex;flex-direction:column;justify-content:space-around;align-items:center;padding:5px;box-sizing:border-box;z-index:999}.my-popover-list[data-v-26b0b5b9]::after, .my-popover-list[data-v-26b0b5b9]::before{position:absolute;bottom:100%;left:50%;border:solid transparent;content:"";height:0;width:0;pointer-events:none}.my-popover-list[data-v-26b0b5b9]::after{border-color:transparent;border-bottom-color:var(--list-bgcolor);border-width:8px;margin-left:-8px}.my-popover-list[data-v-26b0b5b9]::before{border-color:transparent;border-bottom-color:#ccc;border-width:10px;margin-left:-10px}.my-popover-list-item[data-v-26b0b5b9]{width:100%;text-align:center;border-bottom:#ccc 1px solid;line-height:30px;font-size:15px;color:#333}.my-popover-list-item[data-v-26b0b5b9]:last-child{border-bottom:none}.my-popover-list-item[data-v-26b0b5b9]:active{background-color:rgba(0,0,0,.1)}.chosen[data-v-26b0b5b9]{color:var(--active-color)}',""]),t.exports=e},4839:function(t,e,i){"use strict";var o=i("9647"),n=i.n(o);n.a},"5d4a":function(t,e,i){"use strict";i.r(e);var o=i("e3d3"),n=i("da2b");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("4839");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"26b0b5b9",null,!1,o["a"],r);e["default"]=c.exports},"7658b":function(t,e,i){"use strict";(function(t){var o=i("4ea4");i("d3b7"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("5d4a")),a=i("9d07"),r={components:{myPopover:n.default,Down:a.Down,SwitchIcon:a.Switch},data:function(){return{daylist:["工作日","周末"],dayidx:0,items:["武大","华科"],chosen:0,flexOrder:1,thedata:[],today:0,timeNow:"00:00",timer:null}},onLoad:function(){var t=(new Date).getDay();this.today=0===t||6===t?1:0,this.dayidx=this.today,this.fetchInitialData()},mounted:function(){var t=this;this.timer=setInterval((function(){t.timeNow=(new Date).toString().substring(16,21)}),6e3)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},methods:{fetchInitialData:function(){this.fetchData(),this.timeNow=(new Date).toString().substring(16,21)},fetchData:function(){var e=this;uni.showLoading({title:"正在加载"});var i={sidx:this.chosen,dayidx:this.dayidx,diridx:1===this.flexOrder?0:1};this.$axios.get("/bus",{params:i}).then((function(i){200===i.status?(t.log(+i.data),e.thedata=JSON.parse(JSON.stringify(i.data)),t.log(JSON.stringify(e.thedata)),uni.hideLoading()):(uni.hideLoading(),uni.showToast({title:i.statusText,icon:"none"}))})).catch((function(e){t.log(e),uni.hideLoading(),uni.showToast({title:"网络故障",icon:"error"})}))},change:function(){this.flexOrder*=-1,this.fetchData()},chooseDay:function(t){this.dayidx=t,this.fetchData()},choose:function(t){this.chosen=t,this.fetchData()}}};e.default=r}).call(this,i("5a52")["default"])},9647:function(t,e,i){var o=i("3f80");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("7c24e479",o,!0,{sourceMap:!1,shadowMode:!1})},a3eb:function(t,e,i){t.exports=i.p+"static/img/bus.a0743353.png"},a5b1:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"myPopover",props:{itemList:{type:Array,required:!0},chosenNumber:{type:Number,default:0},width:{type:Number,default:80},listColor:{type:String,default:"white"},bgColor:{type:String,default:"white"},activeColor:{type:String,default:"slateblue"}},data:function(){return{items:this.itemList,chosen:this.chosenNumber,showItems:!1}},mounted:function(){var t=this;document.addEventListener("click",(function(e){var i=/my-popover.*/;i.test(e.target.className)||(t.showItems=!1)}))},beforeDestroy:function(){window.removeEventListener("click",(function(){}),!0)},methods:{choseItem:function(t){this.chosen=t,this.showItems=!1,this.$emit("choose",t)}}};e.default=o},b5a0:function(t,e,i){"use strict";var o=i("2b01"),n=i.n(o);n.a},da2b:function(t,e,i){"use strict";i.r(e);var o=i("a5b1"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},e3d3:function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"my-popover",style:{"--list-bgcolor":t.listColor,"--active-color":t.activeColor,width:t.width+"px",backgroundColor:t.bgColor}},[i("v-uni-view",{staticClass:"my-popover-choosebox",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.showItems=!t.showItems}}},[i("v-uni-view",[t._v(t._s(t.items[t.chosen]))]),i("v-uni-view",{class:["icon",t.showItems?"icon-reverse":""]},[t._t("default",[t._v("▼")])],2)],1),t.showItems?i("v-uni-view",{staticClass:"my-popover-list",style:{width:t.width+"px"}},t._l(t.items,(function(e,o){return i("v-uni-view",{class:["my-popover-list-item",t.chosen===o?"chosen":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choseItem(o)}}},[t._v(t._s(e))])})),1):t._e()],1)},a=[]},e741:function(t,e,i){"use strict";i.r(e);var o=i("7658b"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},f2b5:function(t,e,i){var o=i("24fb"),n=i("1de5"),a=i("a3eb");e=o(!1);var r=n(a);e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-5fee4380]{background-color:#00adb5;height:100%}.main[data-v-5fee4380]{margin:0;height:100%}.header[data-v-5fee4380]{height:50px;color:#fff;display:flex;justify-content:flex-start;align-items:flex-end;background-image:url('+r+');background-size:contain;background-repeat:no-repeat;background-position:90%}.header > uni-text[data-v-5fee4380]{font-size:18px;font-weight:700;margin-left:8%;margin-bottom:5px}.header > .my-popover[data-v-5fee4380]{margin:0;margin-left:10px}.content[data-v-5fee4380]{box-sizing:border-box;background-color:#fff;width:93%;height:calc(100% - 50px);margin:auto;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:10px}.choose_box[data-v-5fee4380]{display:flex;flex-direction:row;justify-content:center;align-items:center;color:#333;font-size:16px;font-weight:600}.fix[data-v-5fee4380]{flex:2;text-align:center}.change_btn[data-v-5fee4380]{order:0;flex:1;text-align:center}.change_btn > .i-icon[data-v-5fee4380]{background-color:#fbb03b;padding:8px;border-radius:50%}.change_btn:active > .i-icon[data-v-5fee4380]{-webkit-filter:brightness(1.2);filter:brightness(1.2)}.choose_btn[data-v-5fee4380]{flex:2}.tipbox[data-v-5fee4380]{font-size:12px;line-height:12px;font-weight:lighter;padding:2px;color:#fff;background-color:#00adb5;padding:4px}.tip1[data-v-5fee4380]{order:-2;padding-left:20px;border-radius:0 12px 12px 0}.tip2[data-v-5fee4380]{order:2;padding-right:20px;border-radius:12px 0 0 12px}.time-table[data-v-5fee4380]{width:90%;margin:10px auto;padding-top:10%}.time-table-detail[data-v-5fee4380]{--main-color:#00adb5}.filter[data-v-5fee4380]{-webkit-filter:grayscale(1);filter:grayscale(1)}.time-table-detail > .blank_box[data-v-5fee4380]{height:50px;background-color:var(--main-color);width:2px;margin:auto;position:relative}.time-table-detail > .blank_box[data-v-5fee4380]::before{content:"";background-color:var(--main-color);position:absolute;width:10px;bottom:0;left:-4px;height:10px;border-radius:50%}.time-table-detail:nth-of-type(2) > .blank_box[data-v-5fee4380]{display:none}.time-table-detail > .detail-box[data-v-5fee4380]{display:grid;grid-template-columns:2fr 2fr 2fr;align-items:center;justify-items:center}.time-table-detail > .detail-box > .timeclock[data-v-5fee4380]{border-radius:10px;background-color:var(--main-color);padding:0 5px 0 5px;font-size:14px;color:#fff}.time-table-detail > .detail-box > .location[data-v-5fee4380]{color:var(--main-color);text-align:center}body.?%PAGE?%[data-v-5fee4380]{background-color:#00adb5}',""]),t.exports=e}}]);